import{_ as t}from"./sqlite_mingw-AtXW-pXu.js";import{_ as l}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as s,o as r,c as o,a as e,d as a,b as n,e as i}from"./app-PqEZ4dd-.js";const c={},u=i(`<h1 id="开发手册" tabindex="-1"><a class="header-anchor" href="#开发手册" aria-hidden="true">#</a> 开发手册</h1><h2 id="开发环境说明" tabindex="-1"><a class="header-anchor" href="#开发环境说明" aria-hidden="true">#</a> 开发环境说明</h2><h3 id="后端" tabindex="-1"><a class="header-anchor" href="#后端" aria-hidden="true">#</a> 后端</h3><ul><li>go 版本为1.22.9</li><li>windows 需要安装 mingw(https://www.mingw-w64.org/downloads/)</li></ul><h3 id="前端" tabindex="-1"><a class="header-anchor" href="#前端" aria-hidden="true">#</a> 前端</h3><ul><li>Node 版本为18.20.4</li></ul><h2 id="快速体验" tabindex="-1"><a class="header-anchor" href="#快速体验" aria-hidden="true">#</a> 快速体验</h2><ul><li>1.拉取后台代码</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>git clone https://github.com/samwafgo/SamWaf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>2.下载前端编译好的版本(单独编译教程在后面详细说明)</li></ul>`,10),h={href:"https://github.com/samwafgo/SamWafWeb/releases/latest/download/dist.zip",target:"_blank",rel:"noopener noreferrer"},m=i(`<p>下载后释放到后台目录:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>SamWaf/public/dist
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>目录结构如下：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>├─public
│  └─dist  //把前端编译好的内容释放到里面
│      └─assets
│      └─index.html
│      └─favicon.ico
│      └─robots.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>3.启动后台</li></ul><p>稍加改动global/global.go的代码（为了方便直接用前端编译好的代码）</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> GWAF_RELEASE              string    = &quot;true&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>启动代码入口: main.go</p>`,8),b={href:"http://127.0.0.1:26666/",target:"_blank",rel:"noopener noreferrer"},v=i(`<h2 id="开发调试" tabindex="-1"><a class="header-anchor" href="#开发调试" aria-hidden="true">#</a> 开发调试</h2><h3 id="后端-1" tabindex="-1"><a class="header-anchor" href="#后端-1" aria-hidden="true">#</a> 后端</h3><p>确保global/global.go</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> GWAF_RELEASE              string    = &quot;false&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>启动:main.go</p><h3 id="前端-1" tabindex="-1"><a class="header-anchor" href="#前端-1" aria-hidden="true">#</a> 前端</h3><ul><li>拉取前端代码</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>git clone https://github.com/samwafgo/SamWafWeb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>安装依赖（首次）</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm install
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>启动前端</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm run dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>到此位置，后端和前端的开发代码就都启动了，可以进行协同调试了。</p><h2 id="编译常见问题" tabindex="-1"><a class="header-anchor" href="#编译常见问题" aria-hidden="true">#</a> 编译常见问题</h2><h3 id="_1-wafdb-localdb-go-380-32-destsqliteconn-backup-undefined" tabindex="-1"><a class="header-anchor" href="#_1-wafdb-localdb-go-380-32-destsqliteconn-backup-undefined" aria-hidden="true">#</a> 1. wafdb\\localdb.go:380:32: destSQLiteConn.Backup undefined</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># SamWaf/wafdb
wafdb\\localdb.go:380:32: destSQLiteConn.Backup undefined (type *sqlite3.SQLiteConn has no field or method Backup)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个是提示由于我们本地是用的sqlite，需要安装编译器，windows 下安装 mingw(https://www.mingw-w64.org/downloads/)，在windows环境下把mingw的bin目录添加到环境变量里面。示例如下： <img src="`+t+'" alt="sqlite" loading="lazy">。改完后记着把开发工具重启一下</p>',17);function g(p,x){const d=s("ExternalLinkIcon");return r(),o("div",null,[u,e("p",null,[e("a",h,[a("https://github.com/samwafgo/SamWafWeb/releases/latest/download/dist.zip"),n(d)])]),m,e("p",null,[a("随后访问："),e("a",b,[a("http://127.0.0.1:26666/"),n(d)]),a(" 就可以了")]),v])}const S=l(c,[["render",g],["__file","index.html.vue"]]);export{S as default};
