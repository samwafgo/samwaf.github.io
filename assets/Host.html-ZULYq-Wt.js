import{_ as d,a as l,b as c,c as h,d as p,e as u,f}from"./healthy_loadbalance-3rpsOZO2.js";import{_ as m,a as g,b,c as _,d as y}from"./bind_more_domain-SpxjuHqm.js";import{_ as w}from"./plugin-vue_export-helper-x3n3nnut.js";import{r,o as x,c as v,a as e,d as a,b as t,w as n,e as i}from"./app-C9wIB9xy.js";const A={},S=i('<h1 id="website-configuration" tabindex="-1"><a class="header-anchor" href="#website-configuration" aria-hidden="true">#</a> Website Configuration</h1><h2 id="_1-deployment-architecture" tabindex="-1"><a class="header-anchor" href="#_1-deployment-architecture" aria-hidden="true">#</a> 1 Deployment Architecture:</h2><p>Please layout the SamWaf firewall according to the architecture below.</p><h3 id="_1-1-deployed-on-the-same-server-common" tabindex="-1"><a class="header-anchor" href="#_1-1-deployed-on-the-same-server-common" aria-hidden="true">#</a> 1.1 Deployed on the Same Server (Common)</h3>',4),C={class:"hint-container important"},E=e("p",{class:"hint-container-title"},"Important",-1),I=e("h3",{id:"_1-2-deployed-on-different-servers",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-2-deployed-on-different-servers","aria-hidden":"true"},"#"),a(" 1.2 Deployed on Different Servers")],-1),k=e("p",null,"This deployment method is suitable for servers with abundant resources, allowing SamWaf to be deployed separately, and the domain name should be resolved to the server where SamWaf is located. Other website servers can then be connected, exposing only the server where SamWaf is located.",-1),P=i('<h2 id="_2-adding-websites-protected-by-the-firewall" tabindex="-1"><a class="header-anchor" href="#_2-adding-websites-protected-by-the-firewall" aria-hidden="true">#</a> 2 Adding Websites Protected by the Firewall:</h2><p>Key configuration; set it up once for future use.</p><h3 id="_2-1-add-website" tabindex="-1"><a class="header-anchor" href="#_2-1-add-website" aria-hidden="true">#</a> 2.1 Add Website</h3><figure><img src="'+d+'" alt="Add a website protected by SamWaf firewall" tabindex="0" loading="lazy"><figcaption>Add a website protected by SamWaf firewall</figcaption></figure>',4),W=e("li",null,[e("p",null,"Website:"),e("ul",null,[e("li",null,"Enter the website domain name correctly, avoiding prefixes like https, http, or suffixes like /.")]),e("p",null,"For example: www.baidu.com, pan.baidu.com")],-1),B=e("p",null,"Port:",-1),T=i('<li><p>Encryption Certificate:</p><ol><li>If it&#39;s https, you need to select an encryption certificate. The 80 port does not require one. You need to click &quot;Add New Certificate&quot; to add a new certificate.</li></ol><figure><img src="'+l+`" alt="Add SSL Certificate" tabindex="0" loading="lazy"><figcaption>Add SSL Certificate</figcaption></figure><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Typical filename: *.key Content format: -----BEGIN RSA PRIVATE KEY----- ... Copy and paste all the contents here.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>Certificate String</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Typical filename: *.crt Content format: -----BEGIN CERTIFICATE----- ... Copy and paste all the contents here.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>Select the corresponding certificate from the certificate folder.</li></ol><figure><img src="`+c+'" alt="Select Certificate" tabindex="0" loading="lazy"><figcaption>Select Certificate</figcaption></figure></li><li><p>Startup Status: Automatic startup: After adding, it normally provides services; manual startup: after adding, it will not occupy ports and will not provide services.</p></li><li><p>Strict Source Port: The strict source port is enabled by default. If disabled, it is suitable for outer Nginx or CDN situations.</p></li><li><p>Backend System Type and Backend Application Type: Not necessary; you can select the actual type or keep the default (adaptations may be made for different backend access later).</p></li><li><p>Backend Domain: Defaults to the same as the primary domain (requires http/https protocol prefix). Exception: If the frontend domain and backend domain configured in samwaf differ, you must enable the &quot;Pass Backend Domain&quot; option to ensure proper access.</p></li><li><p>Backend IP: If SamWaf and the website are on the same server, fill in 127.0.0.1. If on different servers, please fill in the actual IP.</p></li><li><p>Backend Port: Situation 1: If SamWaf and the website are on the same server, then the port needs to be changed to something like 81 or other ports. Situation 2: If they are on different servers, you can keep the original port.</p></li>',7),D=i('<h2 id="_3-load-balancing" tabindex="-1"><a class="header-anchor" href="#_3-load-balancing" aria-hidden="true">#</a> 3 Load Balancing:</h2><p>Load balancing supports: Weighted Round Robin (WRR), IP Hash.</p><ul><li><p>Weighted Round Robin (WRR): Distributes requests to different servers in order based on the weights of the backend servers. Servers with higher weights are polled more frequently (higher probability).</p></li><li><p>IP Hash: Uses the source IP address of the request to find the corresponding server from a hash table, ensuring that the same IP always accesses the same server.</p></li></ul><h3 id="_3-1-load-balancing-configuration" tabindex="-1"><a class="header-anchor" href="#_3-1-load-balancing-configuration" aria-hidden="true">#</a> 3.1 Load Balancing Configuration</h3><p>Click on the protected website to enable &quot;Load Balancing.&quot;</p><p><img src="'+m+'" alt="Load Balancing List" loading="lazy">.</p><h3 id="_3-2-add-backend-load" tabindex="-1"><a class="header-anchor" href="#_3-2-add-backend-load" aria-hidden="true">#</a> 3.2 Add Backend Load</h3><p><img src="'+h+'" alt="Load Configuration" loading="lazy">.</p><ul><li>IP: Enter the backend IP that can be accessed.</li><li>Port: Enter the backend port that can be accessed.</li><li>Weight: Enter the weight; for the Weighted Round Robin (WRR) mode, this increases the chance of customer access to that server.</li></ul><h2 id="_4-website-password-access" tabindex="-1"><a class="header-anchor" href="#_4-website-password-access" aria-hidden="true">#</a> 4 Website Password Access</h2><p>Supported since v1.3.9-beta.11 , Add or edit the last tab for website password access.<br> Website password access is disabled by default and can be enabled manually.</p><h3 id="_4-1-website-password-access-list" tabindex="-1"><a class="header-anchor" href="#_4-1-website-password-access-list" aria-hidden="true">#</a> 4.1 Website Password Access List</h3><figure><img src="'+g+'" alt="Website Password Access List" tabindex="0" loading="lazy"><figcaption>Website Password Access List</figcaption></figure><p>Here, you can view, add, edit, or delete.</p><p>The effect is as follows:</p><figure><img src="'+p+'" alt="Website Password Access Effect" tabindex="0" loading="lazy"><figcaption>Website Password Access Effect</figcaption></figure><h2 id="_5-other-configurations" tabindex="-1"><a class="header-anchor" href="#_5-other-configurations" aria-hidden="true">#</a> 5. Other Configurations</h2><h3 id="_5-1-exclude-urls-when-logging" tabindex="-1"><a class="header-anchor" href="#_5-1-exclude-urls-when-logging" aria-hidden="true">#</a> 5.1 Exclude URLs When Logging</h3><p>Enter one URL per line.</p><h3 id="_5-2-access-timeout-settings" tabindex="-1"><a class="header-anchor" href="#_5-2-access-timeout-settings" aria-hidden="true">#</a> 5.2 Access Timeout Settings</h3><p>Supported since v1.3.9-beta.13, Default is 60 seconds. Unit: seconds. If set to 0, there is no limit.</p><figure><img src="'+b+'" alt="Access Timeout Settings" tabindex="0" loading="lazy"><figcaption>Access Timeout Settings</figcaption></figure><p>Here is the translation:</p><h2 id="_6-export-and-import" tabindex="-1"><a class="header-anchor" href="#_6-export-and-import" aria-hidden="true">#</a> 6. Export and Import</h2><h3 id="_6-1-export" tabindex="-1"><a class="header-anchor" href="#_6-1-export" aria-hidden="true">#</a> 6.1 Export</h3><p>The export function allows you to export all host information. If this is your first time, it can be used as the template for initialization imports.</p><h3 id="_6-2-import" tabindex="-1"><a class="header-anchor" href="#_6-2-import" aria-hidden="true">#</a> 6.2 Import</h3><p>There are two options for importing host information:</p><ul><li>Import new host codes (for new data)</li><li>Import retained host codes (for old data)<br><img src="'+_+'" alt="Import Parameters" loading="lazy"></li></ul><p>PS: SamWaf is lightweight. For migrating old data, we recommend shutting down the service and directly copying all the data from the directories to the new server.</p><h2 id="_7-bind-multiple-domains-simultaneously" tabindex="-1"><a class="header-anchor" href="#_7-bind-multiple-domains-simultaneously" aria-hidden="true">#</a> 7. Bind Multiple Domains Simultaneously</h2><p>Multiple domains can be supported, one per line. Wildcard domains are also supported.</p><figure><img src="'+y+'" alt="Bind Multiple Domains Simultaneously" tabindex="0" loading="lazy"><figcaption>Bind Multiple Domains Simultaneously</figcaption></figure><h2 id="_8-health-check" tabindex="-1"><a class="header-anchor" href="#_8-health-check" aria-hidden="true">#</a> 8. Health Check</h2><p>The system performs health checks every 5 seconds. Invalid connections will be removed when load balancing is configured.</p><h3 id="_8-1-custom-configuration" tabindex="-1"><a class="header-anchor" href="#_8-1-custom-configuration" aria-hidden="true">#</a> 8.1 Custom Configuration</h3><figure><img src="'+u+'" alt="Custom Configuration" tabindex="0" loading="lazy"><figcaption>Custom Configuration</figcaption></figure><ul><li>Enable Health Check (manually configurable)</li><li>Detection Methods: GET/HEAD (confirm backend supports HEAD)</li><li>Check Path: Default root directory /</li><li>Expected Status Code: 200 (customizable HTTP response codes)</li><li>Response Timeout: 5 seconds</li><li>Consecutive Failure Threshold: 3</li><li>Consecutive Success Threshold: 3</li></ul><h3 id="_8-2-health-status-display" tabindex="-1"><a class="header-anchor" href="#_8-2-health-status-display" aria-hidden="true">#</a> 8.2 Health Status Display</h3><figure><img src="'+f+'" alt="Status Display" tabindex="0" loading="lazy"><figcaption>Status Display</figcaption></figure>',40);function L(R,q){const o=r("RouterLink"),s=r("Mermaid");return x(),v("div",null,[S,e("div",C,[E,e("p",null,[a("Important: Deploying on the same server may encounter situations where ports 80 and 443 are already in use. Please perform operations when the machine or website business is not busy. "),t(o,{to:"/en/faq/#_1-%E7%AB%AF%E5%8F%A380-%E8%A2%AB%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5"},{default:n(()=>[a("Modify and view common issues")]),_:1})])]),t(s,{id:"mermaid-17",code:"eJwtjDEOwjAMRef4FB7LkIGVASkJNwCpA2JIqUsqhaRyAxW3x03rwfqW3/taayhjiXTCC00x/6jHnLAEwqt/yyL+EsOKDTEvz+C54M0Cypi7iyOlgpbzMhM/QNlGrNYPB1CuaanbfTkNan1GiyhQjQbU/Ole7KewU8faun1dzW6TaqbUwx+b3y8N"}),I,k,t(s,{id:"mermaid-24",code:"eJxlzbEOgjAQBuCZe4obceigo4MJLW+ACYNxKHIVkkrJtUp8e9sCk7dcLvfdf0IICGOwdMaaZuu+1KObsB6NIaYpYEP8IfaQoLFueQyaA14lYKzqpuyYlGS3eOI7FLJs9KvV5gCFKlvqtoA4VijEBSUiFP7dPVnPw7Y85jCJudHUJyKzVn/2tCq12/hmzd1PKoQfbpo5dA=="}),P,e("ul",null,[W,e("li",null,[B,e("ul",null,[e("li",null,[a("Enter the port of the website that needs protection. http is 80 and https is 443. (If you have already installed Baota, Nginx, IIS, etc., you need to manually change the port to a non-80 or non-443 port.) "),t(o,{to:"/en/faq/#_1-%E7%AB%AF%E5%8F%A380-%E8%A2%AB%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5"},{default:n(()=>[a("Modify and view common issues")]),_:1})])])]),T]),D])}const F=w(A,[["render",L],["__file","Host.html.vue"]]);export{F as default};
